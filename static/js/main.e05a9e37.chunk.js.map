{"version":3,"sources":["images/example-clicking.gif","queries/autogenerate/hooks.tsx","utils/updateCache.ts","components/universal/DeleteEditLinks.tsx","components/universal/_variables.ts","components/poem/PoemHeader.tsx","components/poem/PoemDiv.tsx","images/paper-rect-contrast.jpg","images/tree-bark.jpg","images/contemporary_china_small.png","images/f0c4457.jpg","images/maxresdefault.jpg","images/blueTile.jpg","images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg","images/paintingCracks.jpg","images/Alcala_lg.jpg","images/map2.jpg","images/paperInverted.jpg","images/paperContrast.jpg","images/triangles-123.jpg","images/1_mU0yXR99Bg91S1ACSyPq_w.jpg","images/waves.jpg","images/electronic.jpg","components/poem/PoemBody.tsx","components/universal/UsernameLink.tsx","components/poem/PoemFooter.tsx","components/universal/Loader.ts","components/universal/ErrorBoundary.tsx","components/poem/Poem.tsx","components/poem/CloseUpPoemDiv.ts","components/poem/CloseUpPoemView.tsx","components/manyPoemViews/IndexView.tsx","components/manyPoemViews/HomeView.tsx","components/manyPoemViews/ProfileView.tsx","components/fullApp/Logo.tsx","components/fullApp/NavbarDiv.tsx","components/fullApp/LoginModal.tsx","components/universal/Dropdown.tsx","components/fullApp/Navbar.tsx","components/fullApp/AppWrapper.tsx","components/fullApp/About.tsx","utils/getSelectedTexts.ts","components/selectable/SavePoemButton.tsx","components/selectable/ToolbarDiv.ts","components/selectable/StyleToolbar.tsx","components/selectable/StyleView.tsx","utils/formatLetters.ts","utils/toggleLetters.ts","components/selectable/WriterToolbar.tsx","components/selectable/Word.tsx","components/selectable/SelectablePoem.tsx","components/selectable/WriteView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["defaultOptions","PoemDetailsFragmentDoc","gql","_templateObject","_taggedTemplateLiteral","GetRandomBookDocument","_templateObject2","GetSinglePoemDocument","_templateObject3","useGetSinglePoemQuery","baseOptions","options","_objectSpread","Apollo","GetPoemsDocument","_templateObject4","GetPoemsByAuthorDocument","_templateObject5","CreatePoemDocument","_templateObject6","UpdatePoemDocument","_templateObject7","DeletePoemDocument","_templateObject8","GetCurrentUserDocument","_templateObject9","useGetCurrentUserQuery","GetUserDocument","_templateObject10","CreateUserDocument","_templateObject11","LoginUserDocument","_templateObject12","updateCache","_ref","cache","arg","updateData","data","readQuery","newData","writeQuery","DeleteEditLinks","_data$currentUser","authorId","poemId","isCurrentUser","currentUser","id","_useDeletePoemMutatio","useDeletePoemMutation","variables","update","deletePoem","produce","draft","idx","poemPages","edges","findIndex","d","node","splice","query","limit","_slicedToArray","_jsx","className","children","_jsxs","MuiLink","onClick","window","confirm","Link","to","concat","sizes","color","HeaderDiv","styled","div","PoemHeader","BodyDiv","stringColors","i","PoemDiv","paperTextureImg","paperContrast","paperInverted","circlePatternImg","treeBarkImg","paintingCracks","f0c4457","waves","mU0yXR99Bg91S1ACSyPq_w","maxresdefault","blueTile","tile","triangles123","Alcala_lg","map","electronic","TextSpan","isSelected","text","PoemBody","_ref2","textChunks","textSpan","UsernameLink","username","userId","PoemFooter","authorUsername","Loader","ErrorBoundary","_PureComponent","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","hasError","_createClass","key","value","error","errorInfo","console","warn","this","style","textAlign","margin","PureComponent","Poem","poem","backgroundId","colorRange","author","closeUp","exampleClickingImg","require","CloseUpPoemDiv","CloseUpPoemView","useParams","Number","marginTop","PoemContainerDiv","IndexView","poems","fetchMore","InfiniteScroll","loadMore","page","offset","updateQuery","prevResult","fetchMoreResult","_draft$poemPages$edge","push","apply","_toConsumableArray","hasMore","length","loader","HomeView","_useGetPoemsQuery","useGetPoemsQuery","first","ProfileHeader","_currentUserRes$data","_currentUserRes$data$","useGetUserQuery","currentUserId","user","pronoun","dateJoined","moment","createdAt","fromNow","UserPoems","_useGetPoemsByAuthorQ","useGetPoemsByAuthorQuery","ProfileView","PoemistLogo","viewBox","minWidth","NavbarDiv","LoginDialog","_signUpError$message","_useState","useState","password","_useState2","formState","setFormState","_useLoginUserMutation","useLoginUserMutation","refetchQueries","_useLoginUserMutation2","loginInUserMutation","loginError","_useCreateUserMutatio","useCreateUserMutation","_useCreateUserMutatio2","createUserMutation","signUpError","location","useLocation","history","useHistory","handleClose","pathname","showLogin","search","includes","showSignUp","Dialog","open","onClose","onSubmit","e","preventDefault","createPromise","Promise","resolve","then","res","token","tokenAuth","localStorage","setItem","setTimeout","catch","DialogTitle","display","flexGrow","IconButton","size","FaTimes","DialogContent","TextField","autoFocus","label","fullWidth","onChange","target","type","component","Typography","message","DialogActions","Button","variant","Dropdown","_ref$openLabel","openLabel","_ref$items","items","_ref$openStyle","openStyle","anchorEl","setAnchorEl","event","currentTarget","Menu","keepMounted","Boolean","getContentAnchorEl","anchorOrigin","vertical","horizontal","item","MenuItem","_item$onClick","LogInOut","toggleShowLogin","Navbar","marginRight","NavLink","activeClassName","exact","FaAngleDown","paddingTop","clear","reload","FullNav","LoginModal","AppDiv","AppWrapper","DivAbout","About","getSelectedTexts","wordLetters","letters","flatten","currentlySelected","allText","forEach","letter","ch","SavePoemButton","book","startIdx","bookId","_useUpdatePoemMutatio","useUpdatePoemMutation","__typename","_objectWithoutProperties","_excluded","updatePoemMutation","_useCreatePoemMutatio","useCreatePoemMutation","unshift","createPoem","createPoemMutation","savePoem","reject","_Fragment","ToolbarDiv","keepInRange","num","upperlimit","StyleToolbar","_len","arguments","args","Array","_key","backgroundUp","updateStyle","backgroundDown","colorUp","colorDown","_this2","backUrl","FaAngleLeft","float","FaAngleRight","FaArrowLeft","FaArrowRight","withRouter","StyleView","setPoem","useEffect","formatLetters","passage","lastSelected","textChunk","wordArr","words","word","split","splitWords","toggleLetters","w","wordIdx","letterIdx","isSelectingByWord","flatMap","WriterToolbar","handleClear","getNewPassage","toggleSelectBy","toggleRandomLetters","selectablePoem","isBlank","every","updatePoem","Letter","handleClickLetter","Word","_ref3","SelectablePoemDiv","SelectablePoemRender","WriteView","onKeyDown","setState","onKeyUp","_this$state","newWordLetters","random","document","addEventListener","removeEventListener","onKeyPress","shiftKey","nextProps","WriteViewWData","skip","randomBook","useGetRandomBookQuery","current","title","getSelectable","refetch","App","Switch","Route","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","httpLink","createHttpLink","uri","authLink","setContext","_","headers","getItem","Authorization","client","ApolloClient","link","InMemoryCache","theme","createTheme","palette","primary","main","MuiButtonBase","disableRipple","shape","borderRadius","typography","button","textTransform","ReactDOM","render","StrictMode","ApolloProvider","Router","ThemeProvider","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.e05a9e37.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/example-clicking.f7137e63.gif\";","import * as Types from \"./operations\"\n\nimport { gql } from \"@apollo/client\"\nimport * as Apollo from \"@apollo/client\"\nconst defaultOptions = {}\nexport const PoemDetailsFragmentDoc = gql`\n  fragment PoemDetails on Poem {\n    id\n    backgroundId\n    colorRange\n    createdAt\n    updatedAt\n    author {\n      id\n      username\n    }\n    book {\n      id\n      title\n    }\n    textChunks {\n      id\n      text\n      isSelected\n    }\n  }\n`\nexport const GetRandomBookDocument = gql`\n  query getRandomBook {\n    randomBook {\n      id\n      title\n      text\n      startIdx\n    }\n  }\n`\n\n/**\n * __useGetRandomBookQuery__\n *\n * To run a query within a React component, call `useGetRandomBookQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetRandomBookQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetRandomBookQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetRandomBookQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, options)\n}\nexport function useGetRandomBookLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<\n    Types.GetRandomBookQuery,\n    Types.GetRandomBookQueryVariables\n  >(GetRandomBookDocument, options)\n}\nexport type GetRandomBookQueryHookResult = ReturnType<\n  typeof useGetRandomBookQuery\n>\nexport type GetRandomBookLazyQueryHookResult = ReturnType<\n  typeof useGetRandomBookLazyQuery\n>\nexport type GetRandomBookQueryResult = Apollo.QueryResult<\n  Types.GetRandomBookQuery,\n  Types.GetRandomBookQueryVariables\n>\nexport const GetSinglePoemDocument = gql`\n  query getSinglePoem($id: Int!) {\n    poem(id: $id) {\n      ...PoemDetails\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetSinglePoemQuery__\n *\n * To run a query within a React component, call `useGetSinglePoemQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetSinglePoemQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetSinglePoemQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetSinglePoemQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, options)\n}\nexport function useGetSinglePoemLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<\n    Types.GetSinglePoemQuery,\n    Types.GetSinglePoemQueryVariables\n  >(GetSinglePoemDocument, options)\n}\nexport type GetSinglePoemQueryHookResult = ReturnType<\n  typeof useGetSinglePoemQuery\n>\nexport type GetSinglePoemLazyQueryHookResult = ReturnType<\n  typeof useGetSinglePoemLazyQuery\n>\nexport type GetSinglePoemQueryResult = Apollo.QueryResult<\n  Types.GetSinglePoemQuery,\n  Types.GetSinglePoemQueryVariables\n>\nexport const GetPoemsDocument = gql`\n  query getPoems($first: Int) {\n    poemPages(first: $first) {\n      edges {\n        node {\n          ...PoemDetails\n        }\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsQuery__\n *\n * To run a query within a React component, call `useGetPoemsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsQuery({\n *   variables: {\n *      first: // value for 'first'\n *   },\n * });\n */\nexport function useGetPoemsQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    options,\n  )\n}\nexport function useGetPoemsLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsQuery,\n    Types.GetPoemsQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<Types.GetPoemsQuery, Types.GetPoemsQueryVariables>(\n    GetPoemsDocument,\n    options,\n  )\n}\nexport type GetPoemsQueryHookResult = ReturnType<typeof useGetPoemsQuery>\nexport type GetPoemsLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsLazyQuery\n>\nexport type GetPoemsQueryResult = Apollo.QueryResult<\n  Types.GetPoemsQuery,\n  Types.GetPoemsQueryVariables\n>\nexport const GetPoemsByAuthorDocument = gql`\n  query getPoemsByAuthor($authorId: Int, $first: Int) {\n    poemPages(authorId: $authorId, first: $first) {\n      edges {\n        node {\n          ...PoemDetails\n        }\n      }\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\n\n/**\n * __useGetPoemsByAuthorQuery__\n *\n * To run a query within a React component, call `useGetPoemsByAuthorQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetPoemsByAuthorQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetPoemsByAuthorQuery({\n *   variables: {\n *      authorId: // value for 'authorId'\n *      first: // value for 'first'\n *   },\n * });\n */\nexport function useGetPoemsByAuthorQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, options)\n}\nexport function useGetPoemsByAuthorLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<\n    Types.GetPoemsByAuthorQuery,\n    Types.GetPoemsByAuthorQueryVariables\n  >(GetPoemsByAuthorDocument, options)\n}\nexport type GetPoemsByAuthorQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorQuery\n>\nexport type GetPoemsByAuthorLazyQueryHookResult = ReturnType<\n  typeof useGetPoemsByAuthorLazyQuery\n>\nexport type GetPoemsByAuthorQueryResult = Apollo.QueryResult<\n  Types.GetPoemsByAuthorQuery,\n  Types.GetPoemsByAuthorQueryVariables\n>\nexport const CreatePoemDocument = gql`\n  mutation createPoem(\n    $textChunks: [TextChunkInputType]!\n    $bookId: Int!\n    $startIdx: Int!\n    $passage: String\n  ) {\n    createPoem(\n      textChunks: $textChunks\n      bookId: $bookId\n      startIdx: $startIdx\n      passage: $passage\n    ) {\n      ...PoemDetails\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\nexport type CreatePoemMutationFn = Apollo.MutationFunction<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\n\n/**\n * __useCreatePoemMutation__\n *\n * To run a mutation, you first call `useCreatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createPoemMutation, { data, loading, error }] = useCreatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      bookId: // value for 'bookId'\n *      startIdx: // value for 'startIdx'\n *      passage: // value for 'passage'\n *   },\n * });\n */\nexport function useCreatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<\n    Types.CreatePoemMutation,\n    Types.CreatePoemMutationVariables\n  >(CreatePoemDocument, options)\n}\nexport type CreatePoemMutationHookResult = ReturnType<\n  typeof useCreatePoemMutation\n>\nexport type CreatePoemMutationResult =\n  Apollo.MutationResult<Types.CreatePoemMutation>\nexport type CreatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.CreatePoemMutation,\n  Types.CreatePoemMutationVariables\n>\nexport const UpdatePoemDocument = gql`\n  mutation updatePoem(\n    $textChunks: [TextChunkInputType]!\n    $id: Int!\n    $backgroundId: Int\n    $colorRange: Int\n  ) {\n    updatePoem(\n      textChunks: $textChunks\n      id: $id\n      backgroundId: $backgroundId\n      colorRange: $colorRange\n    ) {\n      ...PoemDetails\n    }\n  }\n  ${PoemDetailsFragmentDoc}\n`\nexport type UpdatePoemMutationFn = Apollo.MutationFunction<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\n\n/**\n * __useUpdatePoemMutation__\n *\n * To run a mutation, you first call `useUpdatePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useUpdatePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [updatePoemMutation, { data, loading, error }] = useUpdatePoemMutation({\n *   variables: {\n *      textChunks: // value for 'textChunks'\n *      id: // value for 'id'\n *      backgroundId: // value for 'backgroundId'\n *      colorRange: // value for 'colorRange'\n *   },\n * });\n */\nexport function useUpdatePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<\n    Types.UpdatePoemMutation,\n    Types.UpdatePoemMutationVariables\n  >(UpdatePoemDocument, options)\n}\nexport type UpdatePoemMutationHookResult = ReturnType<\n  typeof useUpdatePoemMutation\n>\nexport type UpdatePoemMutationResult =\n  Apollo.MutationResult<Types.UpdatePoemMutation>\nexport type UpdatePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.UpdatePoemMutation,\n  Types.UpdatePoemMutationVariables\n>\nexport const DeletePoemDocument = gql`\n  mutation deletePoem($id: Int!) {\n    deletePoem(id: $id) {\n      id\n    }\n  }\n`\nexport type DeletePoemMutationFn = Apollo.MutationFunction<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\n\n/**\n * __useDeletePoemMutation__\n *\n * To run a mutation, you first call `useDeletePoemMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useDeletePoemMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [deletePoemMutation, { data, loading, error }] = useDeletePoemMutation({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useDeletePoemMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<\n    Types.DeletePoemMutation,\n    Types.DeletePoemMutationVariables\n  >(DeletePoemDocument, options)\n}\nexport type DeletePoemMutationHookResult = ReturnType<\n  typeof useDeletePoemMutation\n>\nexport type DeletePoemMutationResult =\n  Apollo.MutationResult<Types.DeletePoemMutation>\nexport type DeletePoemMutationOptions = Apollo.BaseMutationOptions<\n  Types.DeletePoemMutation,\n  Types.DeletePoemMutationVariables\n>\nexport const GetCurrentUserDocument = gql`\n  query getCurrentUser {\n    currentUser {\n      id\n      username\n    }\n  }\n`\n\n/**\n * __useGetCurrentUserQuery__\n *\n * To run a query within a React component, call `useGetCurrentUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetCurrentUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetCurrentUserQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetCurrentUserQuery(\n  baseOptions?: Apollo.QueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, options)\n}\nexport function useGetCurrentUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<\n    Types.GetCurrentUserQuery,\n    Types.GetCurrentUserQueryVariables\n  >(GetCurrentUserDocument, options)\n}\nexport type GetCurrentUserQueryHookResult = ReturnType<\n  typeof useGetCurrentUserQuery\n>\nexport type GetCurrentUserLazyQueryHookResult = ReturnType<\n  typeof useGetCurrentUserLazyQuery\n>\nexport type GetCurrentUserQueryResult = Apollo.QueryResult<\n  Types.GetCurrentUserQuery,\n  Types.GetCurrentUserQueryVariables\n>\nexport const GetUserDocument = gql`\n  query getUser($id: Int!) {\n    user(id: $id) {\n      id\n      username\n      createdAt\n    }\n  }\n`\n\n/**\n * __useGetUserQuery__\n *\n * To run a query within a React component, call `useGetUserQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetUserQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetUserQuery({\n *   variables: {\n *      id: // value for 'id'\n *   },\n * });\n */\nexport function useGetUserQuery(\n  baseOptions: Apollo.QueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    options,\n  )\n}\nexport function useGetUserLazyQuery(\n  baseOptions?: Apollo.LazyQueryHookOptions<\n    Types.GetUserQuery,\n    Types.GetUserQueryVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useLazyQuery<Types.GetUserQuery, Types.GetUserQueryVariables>(\n    GetUserDocument,\n    options,\n  )\n}\nexport type GetUserQueryHookResult = ReturnType<typeof useGetUserQuery>\nexport type GetUserLazyQueryHookResult = ReturnType<typeof useGetUserLazyQuery>\nexport type GetUserQueryResult = Apollo.QueryResult<\n  Types.GetUserQuery,\n  Types.GetUserQueryVariables\n>\nexport const CreateUserDocument = gql`\n  mutation createUser($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      id\n    }\n  }\n`\nexport type CreateUserMutationFn = Apollo.MutationFunction<\n  Types.CreateUserMutation,\n  Types.CreateUserMutationVariables\n>\n\n/**\n * __useCreateUserMutation__\n *\n * To run a mutation, you first call `useCreateUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useCreateUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [createUserMutation, { data, loading, error }] = useCreateUserMutation({\n *   variables: {\n *      username: // value for 'username'\n *      password: // value for 'password'\n *   },\n * });\n */\nexport function useCreateUserMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.CreateUserMutation,\n    Types.CreateUserMutationVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<\n    Types.CreateUserMutation,\n    Types.CreateUserMutationVariables\n  >(CreateUserDocument, options)\n}\nexport type CreateUserMutationHookResult = ReturnType<\n  typeof useCreateUserMutation\n>\nexport type CreateUserMutationResult =\n  Apollo.MutationResult<Types.CreateUserMutation>\nexport type CreateUserMutationOptions = Apollo.BaseMutationOptions<\n  Types.CreateUserMutation,\n  Types.CreateUserMutationVariables\n>\nexport const LoginUserDocument = gql`\n  mutation loginUser($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n`\nexport type LoginUserMutationFn = Apollo.MutationFunction<\n  Types.LoginUserMutation,\n  Types.LoginUserMutationVariables\n>\n\n/**\n * __useLoginUserMutation__\n *\n * To run a mutation, you first call `useLoginUserMutation` within a React component and pass it any options that fit your needs.\n * When your component renders, `useLoginUserMutation` returns a tuple that includes:\n * - A mutate function that you can call at any time to execute the mutation\n * - An object with fields that represent the current status of the mutation's execution\n *\n * @param baseOptions options that will be passed into the mutation, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options-2;\n *\n * @example\n * const [loginUserMutation, { data, loading, error }] = useLoginUserMutation({\n *   variables: {\n *      username: // value for 'username'\n *      password: // value for 'password'\n *   },\n * });\n */\nexport function useLoginUserMutation(\n  baseOptions?: Apollo.MutationHookOptions<\n    Types.LoginUserMutation,\n    Types.LoginUserMutationVariables\n  >,\n) {\n  const options = { ...defaultOptions, ...baseOptions }\n  return Apollo.useMutation<\n    Types.LoginUserMutation,\n    Types.LoginUserMutationVariables\n  >(LoginUserDocument, options)\n}\nexport type LoginUserMutationHookResult = ReturnType<\n  typeof useLoginUserMutation\n>\nexport type LoginUserMutationResult =\n  Apollo.MutationResult<Types.LoginUserMutation>\nexport type LoginUserMutationOptions = Apollo.BaseMutationOptions<\n  Types.LoginUserMutation,\n  Types.LoginUserMutationVariables\n>\n","import { ApolloCache, DocumentNode } from \"@apollo/client\"\n\nexport default function updateCache<D extends Record<any, any>>({\n  cache,\n  arg,\n  updateData,\n}: {\n  cache: ApolloCache<any>\n  arg: { variables: Record<string, any>; query: DocumentNode }\n  updateData: (data: D) => D\n}) {\n  const data: D = cache.readQuery(arg)\n  if (!data) return // if page not visited\n  const newData = updateData(data)\n  cache.writeQuery({\n    ...arg,\n    data: newData,\n  })\n}\n","import { Link } from \"react-router-dom\"\n\nimport {\n  GetPoemsDocument,\n  GetPoemsByAuthorDocument,\n  useDeletePoemMutation,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport produce from \"immer\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport { Link as MuiLink } from \"@material-ui/core\"\nimport updateCache from \"src/utils/updateCache\"\n\nexport default function DeleteEditLinks({ authorId, poemId }) {\n  const { data } = useGetCurrentUserQuery()\n  const isCurrentUser = data?.currentUser?.id === authorId\n  const [deletePoem] = useDeletePoemMutation({\n    variables: { id: poemId },\n    update: (cache, arg) => {\n      const poemId = arg.data.deletePoem.id\n      const updateData = (data) =>\n        produce(data, (draft: GetPoemsQuery) => {\n          var idx = draft.poemPages.edges.findIndex((d) => d.node.id === poemId)\n          draft.poemPages.edges.splice(idx, 1)\n        })\n      updateCache({\n        cache,\n        arg: { query: GetPoemsDocument, variables: { limit: 10 } },\n        updateData,\n      })\n      updateCache({\n        cache,\n        arg: {\n          query: GetPoemsByAuthorDocument,\n          variables: { limit: 10, authorId },\n        },\n        updateData,\n      })\n    },\n  })\n  return (\n    <span className=\"delete-edit-links\">\n      {isCurrentUser && (\n        <span>\n          <MuiLink\n            onClick={() =>\n              window.confirm(\"Are you sure you want to delete your poem?\") &&\n              deletePoem()\n            }\n          >\n            delete\n          </MuiLink>\n          {\" / \"}\n          <Link to={`/edit/write/${poemId}`}>edit</Link>\n        </span>\n      )}\n    </span>\n  )\n}\n","export const sizes = {\n  spaceSm: 5,\n  spaceBase: 15,\n\n  poemWidth: 250,\n  poemHeight: 1200,\n\n  fontSizeXs: 12,\n  fontSizeBase: 16,\n  fontSizeLg: 26,\n\n  headerHeight: 120,\n\n  mobileS: \"320px\",\n  mobileM: \"375px\",\n  mobileL: \"425px\",\n  tablet: \"768px\",\n  laptop: \"1024px\",\n  laptopL: \"1440px\",\n  desktop: \"2560px\",\n}\n\n// paperImg: '../../images/paper-rect-contrast.jpg';\nexport const color = {\n  lightGrey: \"#bbb\",\n  darkGrey: \"#333\",\n  greyLighten5: \"#fafafa\",\n  greyLighten4: \"#f5f5f5\",\n  greyLighten3: \"#eeeeee\",\n  greyLighten2: \"#e0e0e0\",\n  greyLighten1: \"#bdbdbd\",\n  grey: \"#9e9e9e\",\n  greyDarken1: \"#757575\",\n  greyDarken2: \"#616161\",\n  greyDarken3: \"#424242\",\n  greyDarken4: \"#212121\",\n}\n\n// export const images = {\n//   paperTextureImg,\n// };\n\n// mobile-width: 480px;\n// tablet-width: 768px;\n// desktop-width: 1024px;\n","import DeleteEditLinks from \"src/components/universal/DeleteEditLinks\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\n\nconst HeaderDiv = styled.div`\n  width: ${sizes.poemWidth}px;\n  &.close-up {\n    width: ${sizes.poemWidth * 2}px;\n  }\n  text-align: right;\n  position: relative;\n  z-index: 20;\n  background: black;\n\n  .delete-edit-links {\n    float: left;\n  }\n`\n\nexport default function PoemHeader({\n  authorId,\n  poemId,\n}: {\n  authorId: number\n  poemId: number\n}) {\n  return (\n    <HeaderDiv className=\"poem-header\">\n      <DeleteEditLinks {...{ authorId, poemId }} />\n      {poemId && (\n        <Link to={`/poem/${poemId}`} data-cy=\"view-close-up-poem\">\n          view\n        </Link>\n      )}\n    </HeaderDiv>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\nimport paperTextureImg from \"src/images/paper-rect-contrast.jpg\"\nimport treeBarkImg from \"src/images/tree-bark.jpg\"\nimport circlePatternImg from \"src/images/contemporary_china_small.png\"\nimport f0c4457 from \"src/images/f0c4457.jpg\"\nimport maxresdefault from \"src/images/maxresdefault.jpg\"\nimport blueTile from \"src/images/blueTile.jpg\"\nimport tile from \"src/images/life_original_wild_urban_shells_abstract_texture_love-572258.jpg\"\nimport paintingCracks from \"src/images/paintingCracks.jpg\"\nimport Alcala_lg from \"src/images/Alcala_lg.jpg\"\nimport map from \"src/images/map2.jpg\"\nimport paperInverted from \"src/images/paperInverted.jpg\"\nimport paperContrast from \"src/images/paperContrast.jpg\"\nimport triangles123 from \"src/images/triangles-123.jpg\"\nimport mU0yXR99Bg91S1ACSyPq_w from \"src/images/1_mU0yXR99Bg91S1ACSyPq_w.jpg\"\nimport waves from \"src/images/waves.jpg\"\nimport electronic from \"src/images/electronic.jpg\"\n\n// @for $i from 1 through 36 {\n//   .color-#{$i} {\n//     filter: hue-rotate(#{10 * $i}deg);\n//   }\n// }\n\nexport const BodyDiv = styled.div`\n  line-height: 1em;\n  height: 30em; /* 30 lines */\n  overflow: hidden;\n  font-family: \"Garamond\", serif;\n  font-weight: 400;\n  padding-bottom: 0.3em;\n  padding-top: 1.5em;\n  padding-bottom: 1.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n`\n\nlet stringColors = \"\"\n\nlet i = 0\nwhile (i < 36) {\n  i++\n  stringColors += `\n    &.color-${i} .background-img, &.color-${i} .poem-text {\n      filter: hue-rotate(${i * 10}deg);\n    }\n  `\n}\n\nconst PoemDiv = styled.div`\n  font-size: ${sizes.fontSizeBase - 1}px;\n  ${stringColors};\n  &.close-up {\n    margin: auto;\n    display: block;\n    width: ${sizes.poemWidth * 2}px;\n    font-size: ${sizes.fontSizeBase * 2}px;\n    .background-img {\n      width: ${sizes.poemWidth * 2}px;\n      height: ${sizes.poemHeight * 2}px;\n    }\n    .poem-header, .poem-footer {\n      font-size: ${sizes.fontSizeBase * 1.5}px;\n    }\n  }\n  .poem-header, .poem-text, .poem-footer {\n    padding-left: .5em;\n    padding-right: .5em;\n  }\n  .poem-header, .poem-footer {\n    width: 100%;\n    background: rgba(0, 0, 0, 0);\n    color: ${color.lightGrey};\n    font-size: ${sizes.fontSizeBase}px;\n    a {\n      color: ${color.greyDarken1};\n      &:hover {\n        color: white;\n      }\n    }\n  }\n  width: ${sizes.poemWidth - 14}px;\n  margin: 1em;\n  display: inline-block;\n  vertical-align: text-top;\n  text-align: center;\n  position: relative; /* for absolute overflow styles */\n  overflow: hidden;\n\n  .background-img {\n    content: \"\";\n    background: url(${paperTextureImg});\n    position: absolute;\n    width: ${sizes.poemWidth}px;\n    height: ${sizes.poemHeight}px;\n    z-index: -10;\n    top: 0;\n    left: 0;\n  }\n\n  .is-selected {\n    position: relative; /* for zindex */\n    background: yellow;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0.2);\n  }\n\n  /* @include mobile {\n    width: 100%;\n  } */\n\n  &.style-1 {\n    .background-img {\n      background: url(${paperContrast});\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0.1);\n      text-shadow: ${color.greyLighten2} 0 0 0.2em;\n    }\n    .is-selected {\n      text-shadow: black 1px 1px 1px;\n      background: none;\n    }\n  }\n\n  &.style-2 {\n    .background-img {\n      background: url(${paperContrast});\n    }\n    .not-selected {\n      opacity: 0;\n    }\n    .is-selected {\n      background: none;\n    }\n  }\n\n  &.style-3 {\n    .background-img {\n      background: url(${paperInverted});\n    }\n    .not-selected {\n      opacity: .2;\n    }\n    .is-selected {\n      background: none;\n      color: white;\n    }\n  }\n\n  &.style-4 {\n    background: white;\n    .is-selected {\n      background: pink;\n      &:before {\n        content: \"\";\n        position: absolute;\n        height: 1.2em;\n        width: 1000px;\n        border: .2em solid;\n        margin: -.1em;\n        margin-left: -.3em;\n        z-index: 11;\n      }\n    }\n  }\n\n  &.style-5 {\n    .background-img {\n      background: white;\n    }\n    .not-selected {\n      color: black;\n      border-top: solid 0.1em;\n      border-bottom: solid 0.1em;\n      text-decoration: line-through;\n    }\n    .is-selected {\n      background: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceSm}px;\n      margin: ${-sizes.spaceSm}px;\n      box-shadow: black 0.2em 0.2em 0;\n    }\n  }\n\n  &.style-6 {\n    .not-selected {\n      background: rgba(0,0,0, .75);\n    }\n    .is_selected {\n      background: white !important;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-7 {\n    .background-img {\n      background: url(${circlePatternImg});\n      background-size: 20%;\n    }\n    .is-selected {\n      background: none !important;\n      text-shadow: black 0.05em 0.02em 0;\n    }\n  }\n\n  &.style-8 {\n    .background-img {\n      background: url(${treeBarkImg});\n    }\n    .is-selected {\n      color: white;\n      background: red;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-9 {\n    .background-img {\n      background: url(${paintingCracks});\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #3e144c;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-10 {\n    .background-img {\n      background: url(${f0c4457});\n      background-size: 100%;\n    }\n    .not-selected {\n      color: rgba(255, 255, 255, .2);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-11 {\n    .background-img {\n      background: url(${waves});\n      background-size: 50%;\n\n    }\n    .is-selected {\n      background: #100000;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-12 {\n    .background-img {\n      background: url(${mU0yXR99Bg91S1ACSyPq_w});\n      background-size: 80%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #0091ae;\n      color: #e7b8bc;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-13 {\n    .background-img {\n      background: url(${maxresdefault});\n      background-size: 120%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: none;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      text-shadow: white 1px 1px 1px;\n    }\n  }\n\n  &.style-14 {\n    .background-img {\n      background: url(${blueTile});\n      background-size: 20%;\n    }\n    .not-selected {\n      color: rgba(0, 0, 0, 0);\n    }\n    .is-selected {\n      background: #37517a;\n      color: white;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-15 {\n    .background-img {\n      background: url(${tile});\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #2c3c4e;\n      color: #cccbbf;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n      .text {\n        z-index: 10;\n        color: white;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-16 {\n    .background-img {\n      background: url(${triangles123});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #f7ffa9;\n      color: #499991;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-17 {\n    .background-img {\n      background: url(${Alcala_lg});\n      background-repeat: repeat-y;\n      background-size: 100%;\n    }\n    .is-selected {\n      background: #380b1c;\n      color: #d2d4d1;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-18 {\n    .background-img {\n      background: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjAiIGhlaWdodD0iMzAiPgo8ZGVmcz4KPHJlY3QgaWQ9InIiIHdpZHRoPSIzMCIgaGVpZ2h0PSIxNSIgZmlsbD0iI2JiMDg1ZiIgc3Ryb2tlLXdpZHRoPSIyLjUiIHN0cm9rZT0iIzdhMDU0ZCI+PC9yZWN0Pgo8ZyBpZD0icCI+Cjx1c2UgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8dXNlIHk9IjE1IiB4bGluazpocmVmPSIjciI+PC91c2U+Cjx1c2UgeT0iMzAiIHhsaW5rOmhyZWY9IiNyIj48L3VzZT4KPHVzZSB5PSI0NSIgeGxpbms6aHJlZj0iI3IiPjwvdXNlPgo8L2c+CjwvZGVmcz4KPHVzZSB4bGluazpocmVmPSIjcCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAtMjUpIHNrZXdZKDQwKSI+PC91c2U+Cjx1c2UgeGxpbms6aHJlZj0iI3AiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwIDApIHNrZXdZKC00MCkiPjwvdXNlPgo8L3N2Zz4=\");\n      background-size: 100%;\n    }\n    .is-selected {\n      background: white;\n      color: black;\n      padding: ${0.1}em ${0.3}em;\n      margin: ${-0.1}em ${-0.3}em;\n      .text {\n        z-index: 11;\n        position: relative;\n      }\n    }\n  }\n\n  &.style-19 {\n    .background-img {\n      background: url(${map});\n      background-position-x: 60%;\n      background-position-y: 70%;\n    }\n    .is-selected {\n      background: black;\n      padding: 5px 15px;\n      margin: -15px;\n      color: #61c098;\n      padding: ${sizes.spaceSm}px ${sizes.spaceBase}px;\n      margin: ${-sizes.spaceBase}px;\n    }\n  }\n\n  &.style-20 {\n  .background-img {\n    background: url(${electronic});\n    background-size: 100%;\n  }\n  .not-selected {\n    color: rgba(0, 0, 0, 0);\n  }\n  .is-selected {\n    background: white;\n    color: #008308;\n    padding: 0 ${sizes.spaceSm}px;\n    margin: 0 ${-sizes.spaceSm}px;\n  }\n`\n\nexport default PoemDiv\n","export default __webpack_public_path__ + \"static/media/paper-rect-contrast.e66685ca.jpg\";","export default __webpack_public_path__ + \"static/media/tree-bark.32958e04.jpg\";","export default __webpack_public_path__ + \"static/media/contemporary_china_small.de76a51e.png\";","export default __webpack_public_path__ + \"static/media/f0c4457.f1a0d7a4.jpg\";","export default __webpack_public_path__ + \"static/media/maxresdefault.4be2421c.jpg\";","export default __webpack_public_path__ + \"static/media/blueTile.b092c647.jpg\";","export default __webpack_public_path__ + \"static/media/life_original_wild_urban_shells_abstract_texture_love-572258.16701eac.jpg\";","export default __webpack_public_path__ + \"static/media/paintingCracks.aef5b50c.jpg\";","export default __webpack_public_path__ + \"static/media/Alcala_lg.fae98355.jpg\";","export default __webpack_public_path__ + \"static/media/map2.3c916e96.jpg\";","export default __webpack_public_path__ + \"static/media/paperInverted.60927562.jpg\";","export default __webpack_public_path__ + \"static/media/paperContrast.d0935fda.jpg\";","export default __webpack_public_path__ + \"static/media/triangles-123.3dd0203b.jpg\";","export default __webpack_public_path__ + \"static/media/1_mU0yXR99Bg91S1ACSyPq_w.1960b2a2.jpg\";","export default __webpack_public_path__ + \"static/media/waves.1e03dd53.jpg\";","export default __webpack_public_path__ + \"static/media/electronic.874e57d2.jpg\";","import { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { TextChunk } from \"src/queries/autogenerate/schemas\"\n\nconst TextSpan = ({ isSelected, text }: TextChunk) => (\n  <span className={isSelected ? \"is-selected\" : \"not-selected\"}>\n    <span className=\"text\">{text}</span>\n  </span>\n)\n\nexport default function PoemBody({ textChunks }: { textChunks: TextChunk[] }) {\n  return (\n    <BodyDiv className=\"poem-text\">\n      {textChunks &&\n        textChunks.map((textSpan, i) => <TextSpan key={i} {...textSpan} />)}\n    </BodyDiv>\n  )\n}\n","import * as React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst UsernameLink = ({\n  username,\n  userId,\n}: {\n  username?: string\n  userId: number\n}) => (\n  <div className=\"username\" data-cy=\"usernameLink\">\n    <Link to={`/user/${userId}`}>{username}</Link>\n  </div>\n)\n\nexport default UsernameLink\n","import UsernameLink from \"src/components/universal/UsernameLink\"\n\nexport default function PoemFooter({\n  authorUsername,\n  authorId,\n}: {\n  authorUsername?: string\n  authorId: number\n}) {\n  return (\n    <div className=\"poem-footer\">\n      <UsernameLink userId={authorId} username={authorUsername} />\n    </div>\n  )\n}\n","import styled from \"styled-components\"\n\nconst Loader = styled.div`\n  display: inline-block;\n  width: 64px;\n  height: 64px;\n  &:after {\n    content: \" \";\n    display: block;\n    width: 46px;\n    height: 46px;\n    margin: 1px;\n    border-radius: 50%;\n    border: 5px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: lds-dual-ring 1.2s linear infinite;\n  }\n  @keyframes lds-dual-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`\n\nexport default Loader\n","import { PureComponent } from \"react\"\n\nexport class ErrorBoundary extends PureComponent<{}, { hasError: boolean }> {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.warn(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return (\n        <p style={{ textAlign: \"center\", margin: 50 }}>Something went wrong.</p>\n      )\n    }\n\n    return this.props.children\n  }\n}\n","import PoemHeader from \"./PoemHeader\"\nimport PoemBody from \"./PoemBody\"\nimport PoemFooter from \"./PoemFooter\"\nimport PoemDiv from \"src/components/poem/PoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { IPoem } from \"../types\"\nimport { ErrorBoundary } from \"../universal/ErrorBoundary\"\n\nexport default function Poem(props: { poem: IPoem; closeUp?: boolean }) {\n  const { poem } = props\n  if (!poem) {\n    return (\n      <div className=\"poem\">\n        <Loader />\n      </div>\n    )\n  }\n  const { id, backgroundId, colorRange, textChunks, author } = poem\n  if (!author.id) return null\n\n  return (\n    <ErrorBoundary>\n      <PoemDiv\n        className={`poem style-${backgroundId} color-${colorRange} ${\n          props.closeUp ? \"close-up\" : \"\"\n        }`}\n        data-test={`poem${id}`}\n        data-cy=\"poem\"\n      >\n        <div className=\"background-img\" />\n        <PoemHeader poemId={id} authorId={author.id} />\n        <PoemBody textChunks={textChunks} />\n        <PoemFooter authorUsername={author.username} authorId={author.id} />\n      </PoemDiv>\n    </ErrorBoundary>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nconst exampleClickingImg = require(\"src/images/example-clicking.gif\")\n\nconst CloseUpPoemDiv = styled.div`\n  .close-up-poem-view {\n    text-align: center;\n    width: ${sizes.poemWidth * 2};\n    margin: auto;\n    text-align: center;\n    .poem {\n      margin: 0;\n      width: ${sizes.poemWidth * 2};\n    }\n  }\n  .help-image {\n    background: url(${exampleClickingImg});\n    width: 100px;\n    height: 100px;\n  }\n`\n\nexport default CloseUpPoemDiv\n","import Poem from \"src/components/poem/Poem\"\nimport CloseUpPoemDiv from \"src/components/poem/CloseUpPoemDiv\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"../../queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nexport default function CloseUpPoemView() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({\n    variables: {\n      id: Number(id),\n    },\n  })\n  if (!data?.poem) return <Loader />\n  return (\n    <CloseUpPoemDiv style={{ marginTop: 50 }}>\n      <Poem poem={data.poem} closeUp />\n    </CloseUpPoemDiv>\n  )\n}\n","import Poem from \"src/components/poem/Poem\"\nimport styled from \"styled-components\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport InfiniteScroll from \"react-infinite-scroller\"\nimport Loader from \"../universal/Loader\"\nimport produce from \"immer\"\nimport { sizes } from \"../universal/_variables\"\n\nexport const LoadingPoemDiv = styled.div`\n  width: ${sizes.poemWidth}px;\n  height: 450px;\n  margin: 16px;\n  background: #ddd;\n  display: inline-block;\n`\n\nexport const PoemContainerDiv = styled.div`\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(${sizes.poemWidth}px, 1fr));\n  grid-gap: 10px;\n  > div {\n    text-align: center;\n    margin-left: -2rem;\n    margin-right: -2rem;\n  }\n`\n\nexport default function IndexView({\n  poems,\n  fetchMore,\n}: {\n  poems: GetPoemsQuery[\"poemPages\"]\n  fetchMore?: (vars: any) => Promise<any>\n}) {\n  return (\n    <PoemContainerDiv>\n      <InfiniteScroll\n        loadMore={(page) => {\n          return fetchMore({\n            variables: { offset: 10 * page, limit: 10 },\n            updateQuery: (prevResult, { fetchMoreResult }) =>\n              produce(prevResult, (draft) => {\n                draft.poemPages.edges.push(...fetchMoreResult.poemPages.edges)\n              }),\n          })\n        }}\n        hasMore={!(poems.edges.length % 10)}\n        loader={<Loader />}\n      >\n        {poems &&\n          poems.edges.map((poem) => {\n            return <Poem poem={poem.node} key={poem.node.id} />\n          })}\n      </InfiniteScroll>\n    </PoemContainerDiv>\n  )\n}\n","import IndexView from \"src/components/manyPoemViews/IndexView\"\nimport { useGetPoemsQuery } from \"src/queries/autogenerate/hooks\"\nimport Loader from \"../universal/Loader\"\n\nexport default function HomeView() {\n  const { data, fetchMore } = useGetPoemsQuery({ variables: { first: 10 } })\n  if (!data) {\n    return <Loader />\n  }\n\n  return (\n    <div className=\"index-view\">\n      <h5>Browse through all the communities poems!</h5>\n      <IndexView {...{ poems: data.poemPages, fetchMore }} />\n    </div>\n  )\n}\n","import moment from \"moment\"\nimport IndexView from \"src/components/manyPoemViews/IndexView\"\nimport Loader from \"../universal/Loader\"\nimport {\n  useGetUserQuery,\n  useGetPoemsByAuthorQuery,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport { useParams } from \"react-router-dom\"\n\nconst ProfileHeader = ({ id }) => {\n  const { data } = useGetUserQuery({ variables: { id } })\n  const currentUserRes = useGetCurrentUserQuery()\n  const currentUserId = currentUserRes.data?.currentUser?.id\n  if (!data) return <Loader />\n  const { user } = data\n  const isCurrentUser = currentUserId === user.id\n  const pronoun = isCurrentUser ? \"you\" : \"they\"\n  // const poemsWrittenCount = user && user.poemsWrittenCount\n  const poemsWrittenCount = 0\n  const dateJoined = user && moment(user.createdAt).fromNow()\n  return (\n    <div className=\"mx-3\">\n      <h1>{user && user.username}</h1>\n      <div>\n        Poems Written: <strong>{poemsWrittenCount}</strong>\n      </div>\n      <div>\n        Signed Up: <strong>{dateJoined}</strong>\n      </div>\n      <h5>Look at all the lovely poems {pronoun} have written!</h5>\n    </div>\n  )\n}\n\nfunction UserPoems({ authorId }) {\n  const { data, fetchMore } = useGetPoemsByAuthorQuery({\n    variables: { authorId, first: 10 },\n  })\n  if (!data) return <Loader />\n  return <IndexView poems={data.poemPages} fetchMore={fetchMore} />\n}\n\nexport default function ProfileView() {\n  const { id } = useParams<{ id: string }>()\n  return (\n    <div className=\"index-view\">\n      <ProfileHeader id={Number(id)} />\n      <UserPoems authorId={Number(id)} />\n    </div>\n  )\n}\n","const PoemistLogo = () => (\n  <svg viewBox=\"0 0 380.5 128.1\" style={{ minWidth: \"5rem\" }}>\n    <path\n      d=\"M29.8,0c11.3,0,23,0.2,33.8,3.9c26.7,10.4,35.1,41,23,65.9C75.2,90.2,50.9,92.9,29.8,92.9h-23v31.8c0,4.5-6.7,4.6-6.7,0V3.5\n      C0,0.9,2.6,0,4.8,0H29.8z M6.7,6.5v79.9h24.7c17.6,0,38.6-2.2,49-18.4V68C87.9,54.8,88,35,78.9,22.5C68.7,8.4,49,6.5,33.1,6.5H6.7z\"\n    />\n    <path\n      d=\"M114,69.3c28.2,0,28.1,43.6,0,43.6C86,112.8,85.8,69.3,114,69.3z M114,75.7c-19.9,0-19.8,30.6,0,30.7\n      C133.6,106.5,133.6,75.7,114,75.7z\"\n    />\n    <path\n      d=\"M150.5,93.3c0.9,9.9,10.5,14.9,19.7,12.5c4.2-1.1,6.6-4.8,10.4-6.1c3.7-1.3,6.6,2.4,3.5,5.5c-8,8-21.6,10.7-31.3,4.1\n      c-9.1-6.1-11.2-19.7-6.3-29.1c5-9.5,17.2-13.7,27.1-9.5c4.9,2.1,9,6,11.2,10.9c1.5,3.4,3.9,11.7-2.1,11.7H150.5z M179.7,87\n      c-3.4-14.8-25.7-15.1-28.9-0.1L179.7,87z\"\n    />\n    <path\n      d=\"M206.6,76.1c0,0.3,0,0.7-0.1,1c6.4-5.2,24-14.1,27.2-0.6c9.3-6.9,28.4-13.1,28.4,4.6v27.7c0,4.3-6.5,4.6-6.5,0V84.3\n      c0-3.9,0.1-7.9-4.5-8.6c-5.8-0.9-12.9,5.2-17.1,8.3v24.8c0,4.3-6.4,4.6-6.4,0v-23c0-4.1,0.2-9.6-5-10.1c-5.6-0.5-12.4,6.2-16.3,9.5\n      v23.6c0,4.3-6.4,4.6-6.4,0V72.7c0-1.8,1.3-3.6,3.3-3.4C206.5,69.6,206.6,73.7,206.6,76.1z\"\n    />\n    <path\n      d=\"M284.8,39.7c6.5,0,6.5,10.2,0,10.2C278.2,49.9,278.3,39.7,284.8,39.7z M288,108.8c0,4.2-6.4,4.5-6.4,0V72.7\n      c0-4.3,6.4-4.6,6.4,0.1V108.8z\"\n    />\n    <path\n      d=\"M311,105.3c6.9,2.6,16.4-2.8,6.8-7.6c-7.6-3.8-16.1-5.6-13.6-16.4c2-8.6,11.2-12.8,19.4-11.9c2.6,0.3,8.6,1.4,9.3,4.6\n      c0.7,3.6-2.8,4.2-5.5,3.1h0.1c-5.7-2.5-20.6-1-17.3,8.8c2.2,6.5,13.4,5.1,17.1,10.8c5.6,8.6-3.8,16.6-12.1,16.1\n      c-2.6-0.2-8.3-1-9.4-3.7c-1.2-3,2.4-6.5,5-3.9L311,105.3z\"\n    />\n    <path\n      d=\"M356.4,95.5c0,8.2,5.1,14,13.5,9.5c2.4-1.3,4.9-5.7,7.5-5.8c3.1,0,4,3.6,2,5.6l0.1-0.1c-4.4,6.4-12.3,9.4-19.9,7.6\n      c-8.1-2-9.8-9.4-9.6-16.8l0.3-18.9h-10.2c-4.2,0-4.5-6.3,0-6.3h10.4l0.9-28.7c0.2-4.3,6.3-4.5,6.3,0L357,70.3h16\n      c4.1,0,4.4,6.3,0,6.3h-16.2C356.8,82.9,356.4,89.2,356.4,95.5z\"\n    />\n  </svg>\n)\n\nexport default PoemistLogo\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst NavbarDiv = styled.div`\n  li {\n    display: inline-block;\n    margin: ${sizes.spaceBase}px;\n  }\n  text-align: right;\n  position: fixed;\n  top: 0;\n  z-index: 30;\n  background: ${color.darkGrey};\n  color: ${color.lightGrey};\n  width: 100%;\n  padding: ${sizes.spaceBase}px;\n  height: ${sizes.headerHeight}px;\n\n  a {\n    color: ${color.lightGrey};\n  }\n\n  .active {\n    color: white;\n  }\n\n  .navbarMenu {\n    margin-bottom: 0;\n    padding-left: 0;\n    /* background: $dark-grey; */\n\n    /* @include mobile {\n        li {\n          display: block;\n        }\n      } */\n  }\n  .hamburger {\n    display: none;\n\n    /* @include mobile {\n        display: block;\n      } */\n  }\n\n  .hidden-xs {\n    /* @include mobile {\n        display: none;\n      } */\n  }\n\n  .logo {\n    float: left;\n    margin: ${sizes.spaceBase}px;\n    svg {\n      max-width: 13rem;\n      width: calc(100vw - 420px);\n      fill: ${color.lightGrey};\n    }\n  }\n\n  @media (max-width: ${sizes.mobileL}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n  @media (max-width: ${sizes.tablet}) {\n    .logo {\n      margin: 0;\n    }\n    .navbar {\n      padding: 0;\n    }\n  }\n`\n\nexport default NavbarDiv\n","import {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Typography,\n  Link as MuiLink,\n  IconButton,\n} from \"@material-ui/core\"\nimport React, { useState } from \"react\"\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\nimport {\n  useLoginUserMutation,\n  useCreateUserMutation,\n  GetCurrentUserDocument,\n} from \"src/queries/autogenerate/hooks\"\nimport { FaTimes } from \"react-icons/fa\"\n\nexport default function LoginDialog() {\n  const [formState, setFormState] = useState({\n    username: \"\",\n    password: \"\",\n  })\n  const [loginInUserMutation, { error: loginError }] = useLoginUserMutation({\n    refetchQueries: [{ query: GetCurrentUserDocument }],\n  })\n  const [createUserMutation, { error: signUpError }] = useCreateUserMutation({\n    refetchQueries: [{ query: GetCurrentUserDocument }],\n    // errorPolicy: \"ignore\",\n  })\n  const location = useLocation()\n  const history = useHistory()\n  const handleClose = () => history.push(history.location.pathname)\n  const showLogin = location.search.includes(\"showLogin\")\n  const showSignUp = location.search.includes(\"showSignUp\")\n  return (\n    <Dialog open={showLogin || showSignUp} onClose={handleClose}>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault()\n          let createPromise: Promise<any> = Promise.resolve()\n          if (showSignUp) {\n            createPromise = createUserMutation({\n              variables: formState,\n            })\n          }\n          createPromise\n            .then(() =>\n              loginInUserMutation({ variables: formState }).then((res) => {\n                const { token } = res.data.tokenAuth\n                localStorage.setItem(\"token\", token)\n                // TODO - hack to get the \"refetchQueries\" to trigger after the localStorage.setItem\n                window.setTimeout(() => {\n                  loginInUserMutation({ variables: formState })\n                }, 100)\n                handleClose()\n              }),\n            )\n            .catch((res) => {\n              console.warn(res)\n            })\n        }}\n      >\n        <DialogTitle>\n          <div style={{ display: \"flex\" }}>\n            <div style={{ flexGrow: 1 }}>{showLogin ? \"Login\" : \"Sign Up\"}</div>\n            <IconButton size=\"small\" onClick={handleClose}>\n              <FaTimes />\n            </IconButton>\n          </div>\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Username\"\n            fullWidth\n            value={formState.username}\n            onChange={(e) =>\n              setFormState((arg) => ({ ...arg, username: e.target.value }))\n            }\n          />\n          <TextField\n            type=\"password\"\n            margin=\"dense\"\n            label=\"Password\"\n            fullWidth\n            value={formState.password}\n            onChange={(e) =>\n              setFormState((arg) => ({ ...arg, password: e.target.value }))\n            }\n          />\n          {showLogin ? (\n            <Link to=\"?showSignUp\" component={MuiLink}>\n              Sign Up\n            </Link>\n          ) : (\n            <Link to=\"?showLogin\" component={MuiLink}>\n              Login\n            </Link>\n          )}\n          <Typography color=\"error\">\n            {signUpError?.message?.includes(\"UNIQUE\")\n              ? \"Username already taken\"\n              : signUpError?.message}\n            {loginError?.message}\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Cancel</Button>\n          <Button color=\"primary\" variant=\"contained\" type=\"submit\">\n            Submit\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  )\n}\n","import { useState } from \"react\"\nimport { Button, ButtonProps, Menu, MenuItem } from \"@material-ui/core\"\n\nexport default function Dropdown({\n  openLabel = \"Select\",\n  items = [],\n  openStyle = {},\n}: {\n  openLabel?: string | JSX.Element\n  items: { label: string; onClick?: () => void }[]\n  openStyle: ButtonProps[\"style\"]\n}) {\n  const [anchorEl, setAnchorEl] = useState(null)\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  return (\n    <div>\n      <Button\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        style={openStyle}\n      >\n        {openLabel}\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n      >\n        {items.map((item) => (\n          <MenuItem\n            onClick={() => {\n              item.onClick?.()\n              handleClose()\n            }}\n          >\n            {item.label}\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  )\n}\n","import { NavLink } from \"react-router-dom\"\nimport PoemistLogo from \"src/components/fullApp/Logo\"\nimport NavbarDiv from \"./NavbarDiv\"\nimport { useHistory } from \"react-router-dom\"\nimport { useGetCurrentUserQuery } from \"src/queries/autogenerate/hooks\"\nimport LoginModal from \"./LoginModal\"\nimport Dropdown from \"../universal/Dropdown\"\nimport { FaAngleDown } from \"react-icons/fa\"\n\nconst LogInOut = ({ toggleShowLogin }: { toggleShowLogin: () => void }) => (\n  <span>\n    {/* eslint-disable-next-line */}\n    <a onClick={toggleShowLogin} data-test=\"signUpLink\">\n      Sign Up\n    </a>\n  </span>\n)\n\nfunction Navbar() {\n  const history = useHistory()\n  const { data } = useGetCurrentUserQuery()\n  const currentUser = data?.currentUser\n  return (\n    <div\n      className=\"navbar\"\n      style={{ display: \"inline-block\", minWidth: 345, marginRight: \"1rem\" }}\n    >\n      <div />\n      <ul className={\"navbarMenu expanded\"}>\n        <li>\n          <NavLink activeClassName=\"active\" exact to=\"/\">\n            Home\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/about\">\n            About\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/new/write\">\n            Create\n          </NavLink>\n        </li>\n        {currentUser && (\n          <li>\n            <span style={{ display: \"flex\" }}>\n              <NavLink\n                activeClassName=\"active\"\n                to={`/user/${currentUser.id}`}\n                data-test=\"profileLink\"\n              >\n                Profile\n              </NavLink>\n\n              <Dropdown\n                openLabel={<FaAngleDown />}\n                openStyle={{\n                  color: \"white\",\n                  display: \"inline\",\n                  minWidth: 5,\n                  paddingTop: 0,\n                }}\n                items={[\n                  {\n                    label: \"Logout\",\n                    onClick: () => {\n                      localStorage.clear()\n                      window.location.reload()\n                    },\n                  },\n                ]}\n              />\n            </span>\n          </li>\n        )}\n\n        {!currentUser && (\n          <li>\n            <LogInOut toggleShowLogin={() => history.push(\"?showLogin=true\")} />\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default function FullNav() {\n  return (\n    <NavbarDiv>\n      <NavLink to=\"/\" className=\"logo\">\n        <PoemistLogo />\n      </NavLink>\n      <Navbar />\n      <LoginModal />\n    </NavbarDiv>\n  )\n}\n","import styled from \"styled-components\"\nimport { sizes } from \"src/components/universal/_variables\"\nimport Navbar from \"src/components/fullApp/Navbar\"\nimport { ErrorBoundary } from \"../universal/ErrorBoundary\"\n// import ModalContainer from \"src/components/login/ModalContainer\"\n// import 'reset-css/reset.css'\n\nconst AppDiv = styled.div`\n  @media (max-width: 550px) {\n    min-width: 550px;\n    .poem {\n      margin: 0.2em;\n    }\n    /* .close-up-poem-view {\n      min-width: 550px;\n    } */\n  }\n  .app {\n    font-size: ${sizes.fontSizeBase};\n    font-family: \"Avenir Next\", sans-serif;\n  }\n\n  .page-body {\n    padding: ${sizes.spaceBase}px;\n    margin-top: ${sizes.headerHeight}px;\n    text-align: center;\n  }\n\n  .index-view {\n    text-align: left;\n  }\n\n  .error {\n    color: red;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    text-align: center;\n  }\n\n  a:hover {\n    cursor: pointer;\n  }\n`\n\nexport default function AppWrapper({ children }) {\n  return (\n    <AppDiv>\n      <Navbar />\n      <ErrorBoundary>\n        <div className=\"page-body\">{children}</div>\n      </ErrorBoundary>\n\n      {/* <ModalContainer /> */}\n    </AppDiv>\n  )\n}\n","import styled from \"styled-components\"\n\nconst DivAbout = styled.div`\n  text-align: left;\n  max-width: 800px;\n  margin: auto;\n`\n\nexport default function About() {\n  return (\n    <DivAbout className=\"about\">\n      <h1>About</h1>\n      <p>\n        <i>\n          A <strong>found poem</strong> is a poem that is composed with words\n          and phrases from another text.\n        </i>\n      </p>\n\n      <section>\n        <p>\n          It may seem limiting to choose words only from a prearranged set, but\n          limitations are one of the best drives of creativity.\n        </p>\n        <p>\n          For the sake of this website there are a set of very specific\n          constraints on each poem.\n        </p>\n        <ul>\n          <li>You will recieve exactly 40 lines of text</li>\n          <li>\n            You may select any words or letters from this text to create your\n            poem\n          </li>\n          <li>You cannot rearrange them</li>\n        </ul>\n        <p>\n          The poems are meant to be a fun exercise not a throughout masterpiece,\n          so don't spend too much time on each one. Churn out a few and discover\n          moments of accidental brilliance and insight, or simply silliness.\n          Take the stress and pressure out of writing and just have fun!\n        </p>\n        <h4>Contact</h4>\n        <p>We would love to hear from you!</p>\n        <p>Direct any comments or questions to poemistnet@gmail.com.</p>\n      </section>\n    </DivAbout>\n  )\n}\n","import { flatten } from \"lodash\"\nimport { IWordLetter, ITextChunk } from \"src/components/types\"\n\nfunction getSelectedTexts(wordLetters: IWordLetter[][]) {\n  const letters = flatten(wordLetters)\n  let currentlySelected = false\n  const allText: ITextChunk[] = []\n  let text = \"\"\n\n  letters.forEach((letter) => {\n    // only push index when switching\n    if (letter.isSelected !== currentlySelected) {\n      if (text) allText.push({ text, isSelected: currentlySelected } as any)\n      text = letter.ch\n      currentlySelected = !currentlySelected\n    } else {\n      text += letter.ch\n    }\n  })\n\n  // if selected at end, close it\n  if (text) allText.push({ text, isSelected: currentlySelected } as any)\n  return allText\n}\n\nexport default getSelectedTexts\n","import produce from \"immer\"\nimport { useHistory } from \"react-router-dom\"\nimport {\n  useUpdatePoemMutation,\n  useCreatePoemMutation,\n  GetPoemsDocument,\n  GetPoemsByAuthorDocument,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\nimport { GetPoemsQuery } from \"src/queries/autogenerate/operations\"\nimport getSelectedTexts from \"src/utils/getSelectedTexts\"\nimport updateCache from \"src/utils/updateCache\"\n\nexport default function SavePoemButton({ poem, children }) {\n  const history = useHistory()\n  const { data } = useGetCurrentUserQuery()\n  const author = data?.currentUser\n  let { id, textChunks, backgroundId, colorRange, book, startIdx } = poem\n  const bookId = book?.id\n  if (poem.wordLetters) {\n    textChunks = getSelectedTexts(poem.wordLetters)\n  } else {\n    textChunks = textChunks.map(({ __typename, id, ...rest }) => rest)\n  }\n  const [updatePoemMutation] = useUpdatePoemMutation({\n    variables: {\n      id,\n      textChunks,\n      backgroundId,\n      colorRange,\n    },\n  })\n  const [createPoemMutation] = useCreatePoemMutation({\n    variables: {\n      textChunks,\n      bookId,\n      startIdx,\n    },\n    update: (cache, arg) => {\n      const updateData = (data) => {\n        return produce(data, (draft: GetPoemsQuery) => {\n          draft.poemPages.edges.unshift({ node: arg.data.createPoem })\n        })\n      }\n      updateCache({\n        cache,\n        arg: { query: GetPoemsDocument, variables: { limit: 10 } },\n        updateData,\n      })\n      updateCache({\n        cache,\n        arg: {\n          query: GetPoemsByAuthorDocument,\n          variables: { limit: 10, authorId: author.id },\n        },\n        updateData,\n      })\n    },\n  })\n\n  let savePoem = id ? updatePoemMutation : createPoemMutation\n  if (!author) {\n    savePoem = () => {\n      history.push(\"?showSignUp=true\")\n      return Promise.reject()\n    }\n  }\n\n  return <>{children({ savePoem })}</>\n}\n","import styled from \"styled-components\"\nimport { sizes, color } from \"src/components/universal/_variables\"\n\nconst ToolbarDiv = styled.div`\n  text-align: left;\n  position: fixed;\n  left: calc(50vw + ${sizes.poemWidth}px);\n  top: 18rem;\n  width: 170px;\n  @media (max-width: ${sizes.tablet}) {\n    width: 100vw;\n    left: 0;\n    bottom: 0;\n    top: auto;\n    z-index: 10;\n    display: flex;\n    z-index: 10;\n    .toolbar-tab {\n      display: inline-block;\n      width: 50%;\n      border: ${color.greyDarken4} solid !important;\n      font-size: ${sizes.fontSizeBase * 1.5}px !important;\n      margin: 0 !important;\n    }\n    .lower {\n      font-size: ${sizes.fontSizeBase * 2}px !important;\n    }\n  }\n  @media (max-width: 550px) {\n    left: 0;\n    width: 100%;\n  }\n\n  .toolbar {\n    margin-left: ${sizes.poemWidth * 2}px;\n    margin-top: ${sizes.spaceBase * 3}px;\n    font-size: ${sizes.fontSizeLg}px;\n  }\n\n  .toolbar-tab {\n    font-size: ${sizes.fontSizeBase}px;\n    background: #333;\n    color: white;\n    margin: ${sizes.spaceSm}px 0;\n    text-align: left;\n    border: none;\n    cursor: pointer;\n\n    &-lg {\n      font-size: ${sizes.fontSizeLg}px;\n    }\n\n    button {\n      background: black;\n      color: white;\n      border: none;\n    }\n  }\n  button[disabled] {\n    background: #aaa;\n  }\n  .arrow-btn {\n    font-size: 2em !important;\n    cursor: pointer;\n  }\n  .text {\n    display: inline-block;\n    padding: 0.5em;\n  }\n`\n\nexport default ToolbarDiv\n","import { withRouter, RouteComponentProps } from \"react-router-dom\"\nimport {\n  FaAngleRight,\n  FaAngleLeft,\n  FaArrowRight,\n  FaArrowLeft,\n} from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { GetSinglePoemQuery } from \"src/queries/autogenerate/operations\"\nimport { PureComponent } from \"react\"\n\nconst BACKGROUND_ID_COUNT = 20\nconst COLOR_RANGE_COUNT = 36\n\nfunction keepInRange({ num, upperlimit }: { num: number; upperlimit: number }) {\n  if (num < 0) {\n    return upperlimit - 1\n  }\n  if (num > upperlimit) {\n    return num - upperlimit\n  }\n  return num\n}\n\ninterface IProps {\n  poem: GetSinglePoemQuery[\"poem\"]\n  updateStyle: (arg: { backgroundId?: number; colorRange?: number }) => void\n}\n\nclass StyleToolbar extends PureComponent<\n  IProps & RouteComponentProps<{ id: string }>\n> {\n  backgroundUp = () => {\n    const num = this.props.poem.backgroundId + 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  backgroundDown = () => {\n    const num = this.props.poem.backgroundId - 1\n    const backgroundId = keepInRange({ num, upperlimit: BACKGROUND_ID_COUNT })\n    this.props.updateStyle({ backgroundId })\n  }\n  colorUp = () => {\n    const num = this.props.poem.colorRange + 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  colorDown = () => {\n    const num = this.props.poem.colorRange - 1\n    const colorRange = keepInRange({ num, upperlimit: COLOR_RANGE_COUNT })\n    this.props.updateStyle({ colorRange })\n  }\n  render() {\n    const { poem } = this.props\n    const backUrl = `/edit/write/${poem.id}`\n    return (\n      <ToolbarDiv className=\"style-toolbar toolbar\">\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.backgroundDown}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-down\"\n          >\n            <FaAngleLeft />\n          </button>\n          <span className=\"text\">Style {poem.backgroundId}</span>\n          <button\n            onClick={this.backgroundUp}\n            className=\"arrow-btn\"\n            data-ux=\"background-id-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div className=\"toolbar-tab\">\n          <button\n            onClick={this.colorDown}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-down\"\n          >\n            <FaAngleLeft />\n          </button>\n\n          <span className=\"text\">Color {poem.colorRange}</span>\n\n          <button\n            onClick={this.colorUp}\n            className=\"arrow-btn\"\n            data-ux=\"color-range-up\"\n            style={{ float: \"right\" }}\n          >\n            <FaAngleRight />\n          </button>\n        </div>\n\n        <div\n          className=\"toolbar-tab lower\"\n          onClick={() => {\n            this.props.history.push(backUrl)\n          }}\n        >\n          <span className=\"text\">\n            <FaArrowLeft /> Back\n          </span>\n        </div>\n        <SavePoemButton poem={poem}>\n          {({ savePoem }) => (\n            <button\n              onClick={() => {\n                savePoem().then(() => {\n                  this.props.history.push(\"/\")\n                })\n              }}\n              className=\"toolbar-tab toolbar-tab-lg lower\"\n              data-test=\"saveLink\"\n            >\n              <span className=\"text\">\n                Finish <FaArrowRight />\n              </span>\n            </button>\n          )}\n        </SavePoemButton>\n      </ToolbarDiv>\n    )\n  }\n}\n\nexport default withRouter(StyleToolbar)\n","import React, { useEffect, useState } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport StyleToolbar from \"src/components/selectable/StyleToolbar\"\nimport Poem from \"src/components/poem/Poem\"\nimport Loader from \"../universal/Loader\"\nimport { useGetSinglePoemQuery } from \"src/queries/autogenerate/hooks\"\n\nexport default function StyleView() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({ variables: { id: Number(id) } })\n  const [poem, setPoem] = useState(data?.poem)\n  useEffect(() => {\n    setPoem(data?.poem)\n  }, [data?.poem])\n\n  if (!poem) return <Loader />\n\n  const updateStyle = ({\n    backgroundId,\n    colorRange,\n  }: {\n    backgroundId: number\n    colorRange: number\n  }) => {\n    backgroundId && setPoem({ ...poem, backgroundId })\n    colorRange && setPoem({ ...poem, colorRange })\n  }\n\n  return (\n    <div className=\"close-up-poem-view text-center\">\n      <h1>Stylize</h1>\n      <StyleToolbar {...{ poem, updateStyle }} />\n      <Poem poem={poem} closeUp />\n    </div>\n  )\n}\n","import { map } from \"lodash\"\nimport { ITextChunk, IWordLetter } from \"src/components/types\"\n\nfunction splitWords(passage: string) {\n  // takes 'but--I have' => ['but-', '-', 'I ', 'have' ]\n  const words: string[] = []\n  let word = \"\"\n\n  passage.split(\"\").forEach((ch) => {\n    word += ch\n    if (ch === \" \" || ch === \"-\") {\n      words.push(word)\n      word = \"\"\n    }\n  })\n  words.push(word) // last few letters with no space after\n  return words\n}\n\nfunction formatLetters({\n  textChunks,\n  passage,\n}: {\n  textChunks: ITextChunk[]\n  passage?: string\n}) {\n  if (passage) {\n    textChunks = [{ text: passage, isSelected: false, id: 1 }]\n  } else if (!textChunks) {\n    return []\n  }\n  let wordLetters: IWordLetter[][] = []\n  let lastSelected: boolean\n  textChunks.forEach((textChunk) => {\n    const wordArr = splitWords(textChunk.text)\n    const letters = wordArr.map((word) => {\n      return map(word, (ch) => ({ ch, isSelected: textChunk.isSelected }))\n    })\n    if (lastSelected === textChunk.isSelected) {\n      //@ts-ignore\n      wordLetters = wordLetters[wordLetters.length - 1].concat(letters)\n    } else {\n      wordLetters = wordLetters.concat(letters)\n    }\n\n    lastSelected = textChunk.isSelected\n  })\n  return wordLetters\n}\n\nexport default formatLetters\n","import produce from \"immer\"\nimport { IWordLetter } from \"src/components/types\"\n\nfunction toggleLetters({\n  wordLetters: w,\n  wordIdx,\n  letterIdx,\n  isSelectingByWord,\n}: {\n  wordLetters: Array<IWordLetter[]>\n  wordIdx: number\n  letterIdx: number\n  isSelectingByWord: boolean\n}): Array<IWordLetter[]> {\n  return produce(w, (wordLetters) => {\n    if (isSelectingByWord) {\n      if (!wordLetters[wordIdx]) {\n        console.warn(\n          `Word out of range, tried to access ${wordIdx} of ${wordLetters.flatMap.length}`,\n        )\n        return wordLetters\n      }\n      const isSelected = !wordLetters[wordIdx][letterIdx].isSelected // current letter's state\n      // all letters in word should change together\n      wordLetters[wordIdx].forEach((letter) => {\n        letter.isSelected = isSelected\n      })\n      return wordLetters\n    } else {\n      wordLetters[wordIdx][letterIdx].isSelected = !wordLetters[wordIdx][\n        letterIdx\n      ].isSelected\n      return wordLetters\n    }\n  })\n}\n\nexport default toggleLetters\n","import { FaArrowRight } from \"react-icons/fa\"\nimport SavePoemButton from \"./SavePoemButton\"\nimport ToolbarDiv from \"./ToolbarDiv\"\nimport { useHistory } from \"react-router-dom\"\nimport { ISelectablePoem, IWordLetter } from \"../types\"\n\ninterface IProps {\n  handleClear: () => void\n  getNewPassage: () => void\n  toggleSelectBy: () => void\n  toggleRandomLetters: () => void\n  selectablePoem: ISelectablePoem\n}\n\nfunction getIsBlank(wordLetters: IWordLetter[][]) {\n  return wordLetters.every((word) => word.every((letter) => !letter.isSelected))\n}\n\nconst WriterToolbar = ({\n  handleClear,\n  getNewPassage,\n  toggleSelectBy,\n  toggleRandomLetters,\n  selectablePoem,\n  ...props\n}: IProps) => {\n  const history = useHistory()\n  // @ts-ignore\n  const isBlank = getIsBlank(selectablePoem.wordLetters)\n  return (\n    <ToolbarDiv className=\"writer-toolbar toolbar\">\n      <button\n        className=\"toolbar-tab\"\n        onClick={toggleSelectBy}\n        data-ux=\"toggle-select-by\"\n      >\n        <span className=\"text\">\n          {selectablePoem.isSelectingByWord\n            ? \"select by letter?\"\n            : \"select by word?\"}\n        </span>\n      </button>\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={() => getNewPassage()}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">new passage?</span>\n        </button>\n      )}\n      {!selectablePoem.id && (\n        <button\n          className=\"toolbar-tab\"\n          onClick={isBlank ? toggleRandomLetters : handleClear}\n          data-ux=\"get-new-passage\"\n        >\n          <span className=\"text\">{isBlank ? \"nudge\" : \"clear\"}</span>\n        </button>\n      )}\n      <SavePoemButton poem={selectablePoem}>\n        {({ savePoem }) => (\n          <button\n            onClick={() =>\n              savePoem().then((res) => {\n                const id = (res.data.updatePoem || res.data.createPoem).id\n                history.push(`/edit/stylize/${id}`)\n              })\n            }\n            className=\"toolbar-tab toolbar-tab-lg\"\n            data-test=\"styleLink\"\n          >\n            <span className=\"text\">Next</span> <FaArrowRight />\n          </button>\n        )}\n      </SavePoemButton>\n    </ToolbarDiv>\n  )\n}\n\nexport default WriterToolbar\n","import { IWordLetter } from \"../types\"\n\nexport type IHandleClickLetter = ({\n  wordIdx,\n  letterIdx,\n}: {\n  wordIdx: number\n  letterIdx: number\n}) => void\n\ninterface IPropsLetter extends IWordLetter {\n  letterIdx: number\n  handleClickLetter: () => void\n}\n\nconst Letter = ({\n  isSelected,\n  ch,\n  letterIdx,\n  handleClickLetter,\n}: IPropsLetter) => (\n  <span\n    className={`letter ${isSelected ? \"is\" : \"not\"}-selected`}\n    data-idx={letterIdx}\n    onClick={handleClickLetter}\n  >\n    {ch}\n  </span>\n)\n\ninterface IPropsWord {\n  word: IWordLetter[]\n  wordIdx: number\n  handleClickLetter: IHandleClickLetter\n}\n\nconst Word = ({ word, wordIdx, handleClickLetter }: IPropsWord) => (\n  <span className=\"word\" data-word-idx={wordIdx}>\n    {word.map(({ ch, isSelected }, letterIdx) => {\n      return (\n        <Letter\n          key={`${wordIdx}${letterIdx}`}\n          {...{ ch, isSelected, letterIdx }}\n          handleClickLetter={() => handleClickLetter({ wordIdx, letterIdx })}\n        />\n      )\n    })}\n  </span>\n)\n\nexport default Word\n","import Word, { IHandleClickLetter } from \"./Word\"\nimport styled from \"styled-components\"\nimport PoemDiv, { BodyDiv } from \"src/components/poem/PoemDiv\"\nimport { IWordLetter } from \"../types\"\n\nconst SelectablePoemDiv = styled.div`\n  user-select: none;\n  .letter {\n    cursor: pointer;\n  }\n\n  .selecting-by-word .word:hover .letter,\n  .selecting-by-letter .letter:hover {\n    /* background: rgba(255, 255, 0, .7); */\n    color: cyan;\n    &.is-selected {\n      color: red;\n    }\n  }\n`\n\nexport default function SelectablePoemRender({\n  wordLetters,\n  isSelectingByWord,\n  handleClickLetter,\n}: {\n  wordLetters: IWordLetter[][]\n  isSelectingByWord: boolean\n  handleClickLetter: IHandleClickLetter\n}) {\n  return (\n    <PoemDiv className=\"poem close-up\">\n      <SelectablePoemDiv>\n        <BodyDiv className=\"poem-body\">\n          <div className=\"background-img\" />\n          <div\n            className={\n              isSelectingByWord ? \"selecting-by-word\" : \"selecting-by-letter\"\n            }\n          >\n            {wordLetters.map((word, i) => (\n              <Word\n                word={word}\n                key={i}\n                wordIdx={i}\n                handleClickLetter={handleClickLetter}\n              />\n            ))}\n          </div>\n        </BodyDiv>\n      </SelectablePoemDiv>\n    </PoemDiv>\n  )\n}\n","import { PureComponent } from \"react\"\nimport formatLetters from \"src/utils/formatLetters\"\nimport toggleLetters from \"src/utils/toggleLetters\"\nimport WriterToolbar from \"src/components/selectable/WriterToolbar\"\nimport { IPoem, ISelectablePoem } from \"src/components/types\"\nimport { IHandleClickLetter } from \"./Word\"\nimport SelectablePoemRender from \"./SelectablePoem\"\nimport { random } from \"lodash\"\nimport Loader from \"src/components/universal/Loader\"\nimport { useParams } from \"react-router-dom\"\nimport {\n  useGetSinglePoemQuery,\n  useGetRandomBookQuery,\n  useGetCurrentUserQuery,\n} from \"src/queries/autogenerate/hooks\"\n\nfunction getSelectable(poem: {\n  textChunks: IPoem[\"textChunks\"]\n}): ISelectablePoem {\n  const wordLetters = formatLetters({\n    textChunks: poem.textChunks,\n  })\n  return { ...poem, wordLetters, isSelectingByWord: true }\n}\n\ninterface IProps {\n  getNewPassage: () => void\n  selectablePoem: ISelectablePoem\n}\n\nclass WriteView extends PureComponent<IProps> {\n  state = this.props.selectablePoem\n\n  static getDerivedStateFromProps(\n    nextProps: IProps,\n    state: IProps[\"selectablePoem\"],\n  ) {\n    if (nextProps.selectablePoem.book.id !== state.book.id) {\n      return nextProps.selectablePoem\n    }\n    return state\n  }\n\n  onKeyDown = (e) => {\n    if (e.key === \"Shift\") {\n      this.setState({ isSelectingByWord: false })\n    }\n  }\n  onKeyUp = (e) => {\n    if (e.key === \"Shift\") {\n      this.setState({ isSelectingByWord: true })\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onKeyDown, false)\n    document.addEventListener(\"keyup\", this.onKeyUp, false)\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown, false)\n    document.removeEventListener(\"keyup\", this.onKeyUp, false)\n  }\n\n  handleClickLetter: IHandleClickLetter = ({ wordIdx, letterIdx }) => {\n    const { wordLetters, isSelectingByWord } = this.state\n    const newWordLetters = toggleLetters({\n      wordLetters,\n      wordIdx,\n      letterIdx,\n      isSelectingByWord,\n    })\n    this.setState({ wordLetters: newWordLetters })\n  }\n\n  handleClear = () => {\n    this.setState(this.props.selectablePoem)\n  }\n\n  toggleSelectBy = () => {\n    this.setState({ isSelectingByWord: !this.state.isSelectingByWord })\n  }\n\n  toggleRandomLetters = () => {\n    let i = 0\n    let wordLetters = this.state.wordLetters\n    while (i < 10) {\n      i++\n      // @ts-ignore\n      wordLetters = toggleLetters({\n        wordLetters,\n        wordIdx: random(0, 100),\n        letterIdx: 0,\n        isSelectingByWord: true,\n      })\n    }\n    this.setState({ wordLetters })\n  }\n\n  render() {\n    return (\n      <div\n        className=\"close-up-poem-view text-center\"\n        onKeyPress={(e) => {\n          e.shiftKey && this.toggleSelectBy()\n        }}\n      >\n        <h1>{this.props.selectablePoem.id ? \"Edit\" : \"Write\"}</h1>\n        <h5>Make your own poem by clicking on words!</h5>\n\n        <WriterToolbar\n          selectablePoem={this.state}\n          getNewPassage={this.props.getNewPassage}\n          handleClear={this.handleClear}\n          toggleSelectBy={this.toggleSelectBy}\n          toggleRandomLetters={this.toggleRandomLetters}\n        />\n        <SelectablePoemRender\n          {...this.state}\n          //@ts-ignore\n          wordLetters={this.state.wordLetters}\n          handleClickLetter={this.handleClickLetter}\n        />\n      </div>\n    )\n  }\n}\n\nexport default function WriteViewWData() {\n  const { id } = useParams<{ id: string }>()\n  const { data } = useGetSinglePoemQuery({\n    variables: { id: Number(id) },\n    skip: !id,\n  })\n  const randomBook = useGetRandomBookQuery()\n  const currentUserRes = useGetCurrentUserQuery()\n  const current = currentUserRes.data?.currentUser\n  if (!randomBook.data) return <Loader />\n  const selectablePoem = {\n    book: {\n      id: randomBook.data.randomBook.id,\n      title: randomBook.data.randomBook.title,\n    },\n    startIdx: randomBook.data.randomBook.startIdx,\n    author: current,\n    ...getSelectable({\n      textChunks: data?.poem.textChunks || [\n        { text: randomBook.data.randomBook.text, isSelected: false, id: 1 },\n      ],\n    }),\n    ...(data?.poem || {}),\n  }\n  const getNewPassage = randomBook.refetch\n  return <WriteView {...{ selectablePoem, getNewPassage }} />\n}\n","import { Switch, Route } from \"react-router-dom\"\nimport CloseUpPoemView from \"./components/poem/CloseUpPoemView\"\nimport HomeView from \"./components/manyPoemViews/HomeView\"\nimport ProfileView from \"./components/manyPoemViews/ProfileView\"\nimport AppWrapper from \"./components/fullApp/AppWrapper\"\nimport About from \"./components/fullApp/About\"\nimport StyleView from \"./components/selectable/StyleView\"\nimport WriteView from \"./components/selectable/WriteView\"\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Switch>\n        <Route path=\"/\" exact component={HomeView} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"/edit/stylize/:id\" component={StyleView} />\n        <Route path=\"/new/write\" component={WriteView} />\n        <Route path=\"/edit/write/:id\" component={WriteView} />\n        <Route path=\"/poem/:id\" component={CloseUpPoemView} />\n        <Route path=\"/user/:id\" component={ProfileView} />\n      </Switch>\n    </AppWrapper>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport reportWebVitals from \"./reportWebVitals\"\nimport { HashRouter as Router } from \"react-router-dom\"\n\nimport { ApolloClient, createHttpLink, InMemoryCache } from \"@apollo/client\"\nimport { setContext } from \"@apollo/client/link/context\"\nimport { ApolloProvider } from \"@apollo/client\"\nimport { ErrorBoundary } from \"./components/universal/ErrorBoundary\"\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { createTheme, ThemeProvider } from \"@material-ui/core\"\n\nconst DEV_API = \"http://localhost:8000/graphql\"\nconst STAGING_API = \"http://ec2-3-145-74-167.us-east-2.compute.amazonaws.com:8000/graphql\"\n\nconst httpLink = createHttpLink({\n  uri: process.env.NODE_ENV === \"development\" ? DEV_API : STAGING_API,\n})\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(\"token\")\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      Authorization: token ? `JWT ${token}` : \"\",\n    },\n  }\n})\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache({}),\n})\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#333\",\n    },\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true,\n    },\n  },\n  shape: {\n    borderRadius: 0,\n  },\n  typography: {\n    button: {\n      textTransform: \"none\",\n    },\n  },\n})\n\nReactDOM.render(\n  <StrictMode>\n    <ErrorBoundary>\n      <ApolloProvider client={client}>\n        <Router>\n          <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <App />\n          </ThemeProvider>\n        </Router>\n      </ApolloProvider>\n    </ErrorBoundary>\n  </StrictMode>,\n  document.getElementById(\"root\"),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}